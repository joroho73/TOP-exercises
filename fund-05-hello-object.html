<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello Object</title>
</head>
<body>
    <H1>Hello Object</H1>
    <p>Exercises taken from <a href="https://javascript.info/object">javascript.info/object</a></p>
    <hr>
    <pre>
    let user = {};
    user.name = "John";
    user.surname = "Smith";
    </pre>
    <button class="click1">Click Me to View Object</button>
    <hr>
    
    <p>Change user name.</p>
    <pre>
    user.name = prompt("enter name");
    </pre>
    <button class="click2">Click me to change name</button>
    <hr>

    <p>Delete name.</p>
    <pre>
    delete user.name
    </pre>
    <button class="click3">Click me to Delete name</button>
    <hr>

    <h1>Check for Emptiness</h1>
    <p>Write the function isEmpty(obj) which returns true if the object has no properties, false otherwise.</p>

    <pre>
    let schedule = {};
    alert( isEmpty(schedule) ); // true

    schedule["8:30"] = "get up";
    alert( isEmpty(schedule) ); // false
    </pre>
    <button class="createSchedule">Create Empty Schedule</button>
    <button class="loadSchedule">Load Schedule</button>
    <button class="checkSchedule">Is Schedule Empty?</button>
    <button class="viewSchedule">View Schedule</button>
    <button class="deleteSchedule">Delete Schedule</button>
    <hr>

    <h1>Sum object properties</h1>
    <p>We have an object storing salaries of our team:</p>
    <pre>
    let salaries = {
        John: 100,
        Ann: 160,
        Pete: 130
        }
    </pre>
    <p>Write the code to sum all salaries and store in the variable sum. Should be 390 in the example above.</p>
    <p>If salaries is empty, then the result must be 0.</p>
    <h3>solution</h3>
    <pre>
    let sum = '';

    function sumSalaries(obj){
        sum = 0;
        for (let prop in obj){
            sum += obj[prop]
        }
        return sum;
    }

    alert(sumSalaries(salaries));
    </pre>
    <button class="salariesBtn">Sum Salaries</button>
    <pre>
        let emptySalaries = {}
    </pre>
    <button class="emptySalariesBtn">Sum Empty Salaries</button>
    <hr>
    <h1>Multiply numeric property values by 2</h1>
    <p>Create a function multiplyNumeric(obj) that multiplies all numeric property values of obj by 2.</p>
    <pre>
    let menu = {
        width: 200,
        height: 300,
        title: "My menu"
      };
      
      multiplyNumeric(menu);
      
      // after the call
      menu = {
        width: 400,
        height: 600,
        title: "My menu"
      };
    </pre>
    <button class="multiplyButton">Multiply numeric properties by 2</button>
    <script>
        let menu = {
            width: 200,
            height: 300,
            title: "My menu"
        };

        function multiplyNumeric(obj){
            for (let prop in obj){
                if (typeof obj[prop] === "number"){
                    obj[prop] *= 2
                }
            } 

            showObject(obj);
        }

        const multiplyButton = document.querySelector('.multiplyButton');
        multiplyButton.addEventListener('click', () => {
            showObject(menu);
            multiplyNumeric(menu);

        })


        const emptySalariesButton = document.querySelector('.emptySalariesBtn');
        emptySalariesButton.addEventListener('click', () =>{
            sumSalaries(emptySalaries);

        })

        let sum = '';
        let emptySalaries = {}
        let salaries = {
            John: 100,
            Ann: 160,
            Pete: 130
            }

        function sumSalaries(obj){
            sum = 0;
            for (let prop in obj){
                sum += obj[prop]
            }
            return sum;
        }

        let user = {};
        user.name = "John";
        user.surname = "Smith";
        
        const button1 = document.querySelector('.click1');
        button1.addEventListener('click', () => showObject(user));

        const button2 = document.querySelector('.click2');
        button2.addEventListener('click', () => {
            user.name = prompt("enter name...");
            showObject(user);
        });

        const button3 = document.querySelector('.click3');
        button3.addEventListener('click', () => {
            delete user.name;
            showObject(user);
        });

        const createSchedule = document.querySelector('.createSchedule');
        createSchedule.addEventListener('click', () => {
            globalThis.schedule = {};
            alert("schedule = {}");
        })

        const loadSchedule = document.querySelector('.loadSchedule');
        loadSchedule.addEventListener('click', () => {
            globalThis.schedule["8:30"] = "get up!";
            showObject(schedule)
        })

        const checkSchedule = document.querySelector('.checkSchedule');
        checkSchedule.addEventListener('click', () => isObjectEmpty(schedule));

        const viewSchedule = document.querySelector('.viewSchedule');
        viewSchedule.addEventListener('click', () => showObject(schedule));

        const deleteSchedule = document.querySelector('.deleteSchedule');
        deleteSchedule.addEventListener('click', () => {
            globalThis.schedule = {};
            showObject(schedule)
        })

        function isObjectEmpty(objectName){
            alert (
                objectName &&
                Object.keys(objectName).length === 0 &&
                objectName.constructor === Object
  );
};
   

        function showObject(obj){
            for (let prop in obj){
                alert(`${prop} : ${obj[prop]}`);
            }
        }



    </script>    
</body>
</html>